<html>

<head>
    
  <link rel="stylesheet" href="../css/styleupload.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/style.css">


        <title>Upload</title>

<h2 class='lead'> Start uploading images and develop your portfolio with PiCarousel </h2>
 <header>
      <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
          <a class="navbar-brand" href="">Picarousel</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/about">Meet the Hackers</a>
            </li>
            <!-- Sign in using modal forms. WIP, import Ekta's modal sign-in -->
            <li class="nav-item">
              <% if (!user) { %>
              <a class="nav-link" href="/register">Sign In</a>
              <% } else { %>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><%=user%></a>
                 <div class="dropdown-menu" style="padding-right:50px;">
                  <!-- <a class="dropdown-item" href="#">View Profile</a>
                   <a class="dropdown-item" href="#">Posts</a> -->
                    <a class="dropdown-item" href="/imgupload">Upload</a>
                    <a class="dropdown-item" href="/logout">Logout</a>

                     </li>
              <% } %>
              </li>

          </ul>
        </div>
      </nav>
    </header>
    </head>
<body>
<div class="wrapper">
<form ref='uploadForm' 
      id='uploadForm' 
      action='/upload' 
      method='post' 
      encType="multipart/form-data">
      <div class="sections">
    
      <div align='center'>
      <input type="text" placeholder="title of the post" id="title" name='title' style="width: 250px;"/>
      </div>

      
      
      
       <div align="center" style="margin-top:20px;">
        <textarea id="subject" name="subject" placeholder="Image decription ...." style="height:150px;width:250px;"></textarea>
      </div>
      

      
   
  
  </div>
  <div align='center'style="margin-top:20px;">
        <input type="file" name="sampleFile" required/>
         <p id="wrongFileFormat"></p>
       </div>

    <% if (error){  %>
  
  <script>
  
  document.getElementById('wrongFileFormat').innerHTML = '<%=error%>';

  </script>

  <% } %>
        <div class="input_fields_wrap">
  
    <h2> Add Tags <span id="add_field_button"style="height:25px;width:25px;color:black">&oplus;</span></h2>
    <div align='center'><input type="text" name="mytext" style="margin: auto;
               border: 1px solid black;
               padding: 10px;" required></div>
</div>
<br>
        <div align="center" ><input type='submit' value='Upload!' /></div>
    </form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>

$(document).ready(function() {
    var max_fields      = 10; //maximum input boxes allowed
    var wrapper         = $(".input_fields_wrap"); //Fields wrapper
    var add_button      = $("#add_field_button"); //Add button ID
    
    var x = 1; //initlal text box count
    $(add_button).click(function(e){ //on add input button click
        e.preventDefault();
        if(x < max_fields){ //max input box allowed
            x++; //text box increment
            $(wrapper).append('<div align="center"><input type="text" name="mytext" style="margin-top:10px;margin-left:30px;border: 1px solid black;padding: 10px;"required/><a href="#" class="remove_field"><span style="margin-left: 20px;">&bigotimes;</span></a></div>'); //add input box
        }
    });
    
    $(wrapper).on("click",".remove_field", function(e){ //user click on remove text
        e.preventDefault(); $(this).parent('div').remove(); x--;
    })
});


</script>


    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
      crossorigin="anonymous"></script>


</body>
</html>
