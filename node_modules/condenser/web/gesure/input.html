<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
  <title>XList demo: infinite scrolling</title>
  <link rel="stylesheet" href="/assets/css/gesure/input.css" />
  <script src="/assets/js/inject/console.js?client=client"></script>
</head>
<body >
  <div id="header">XList</div>
  <div id="J_List"><ul class="ks-xlist-container"></ul></div>
  <div id="footer">A infinity listview</div>
</body>
</html>

<script src="http://g.tbcdn.cn/kissy/k/1.4.2/seed-min.js" charset="utf-8"></script>
<script>
  (function(S){
    S.Config.debug = true;
    S.config({
      packages:[
        {
          name:"gesure",
          path:"/assets/js/"
        }
      ]
    })
    S.use('node,gallery/xlist/1.0/index,gesure/drag', function(S,Node, XList,Drag) {
      var connection;
      var $ = S.all;
      var $J_List = $("#J_List");
      var data = (function() {
        var tmp = [];
        for (var i = 0; i < 1000; i++) {
          tmp.push({
            num: i
          })
        }
        return tmp
      })()
      var list = new XList({
        renderTo:$J_List ,
        data: data,
        template: '<li class="row">Row {{num}}</li>',
        itemHeight: 50 //行高
      });
      $J_List.on(Drag.DRAG_END, function(e) {
        // console.log('cmd_gesure', e.touch._record);
      });
    })
  })(KISSY)
</script>